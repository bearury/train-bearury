{{ stationId() ?? 'Пока нет ID' }}
<div class="container">
  <div #map class="map-container">
    <ya-map (ready)="onReady($event)" (yaclick)="onClick($event)" [center]="[55.755702, 37.617531]" [zoom]="6">
      @for (balloon of balloons(); track balloon.id) {
        <ya-placemark
          (yaclick)="onBalloon($event)"
          [geometry]="[latitudeMap(), longitudeMap()]"
          [options]="{iconColor: 'green'}"
          [properties]="{
            hintContent: 'Hint content',
            balloonContent: balloon.city,
          }"></ya-placemark>
      }

      @if (balloons().length > 1) {
        <ya-geoobject
          [feature]="{geometry: {type: 'LineString',coordinates: []}}"
          [options]="{strokeColor: '#0000FF'}"
        ></ya-geoobject>
      }
    </ya-map>
  </div>

  <form [formGroup]="form" class="form" tuiForm="m">

    <tui-textfield>
      <label for="city" tuiLabel>Название города</label>
      <input [formControl]="form.controls.city"
             id="city"
             tuiTextfield
             type="text"
      />
    </tui-textfield>


    <tui-textfield>
      <label for="latitude" tuiLabel>Широта</label>
      <input [formControl]="form.controls.latitude"
             id="latitude"
             tuiTextfield
             type="text"
      />
    </tui-textfield>

    <tui-textfield>
      <label for="longitude" tuiLabel>Долгота</label>
      <input [formControl]="form.controls.longitude"
             id="longitude"
             tuiTextfield
             type="text"
      />
    </tui-textfield>

    <button appearance="accent" tuiButton type="submit">Сохранить</button>

  </form>

  @for (balloonName of balloons(); track balloonName.id; let index = $index) {
    <button tuiButton size="s" appearance="floating">{{ index + 1 }}</button>
  }
</div>

<ng-template>

</ng-template>
